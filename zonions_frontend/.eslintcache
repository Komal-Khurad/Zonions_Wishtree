[{"E:\\WishTree\\WishTree_Project\\Wishtree_Hotel_App\\Zonions\\zonions_frontend\\src\\index.js":"1","E:\\WishTree\\WishTree_Project\\Wishtree_Hotel_App\\Zonions\\zonions_frontend\\src\\App.js":"2","E:\\WishTree\\WishTree_Project\\Wishtree_Hotel_App\\Zonions\\zonions_frontend\\src\\reportWebVitals.js":"3","E:\\WishTree\\WishTree_Project\\Wishtree_Hotel_App\\Zonions\\zonions_frontend\\src\\Components\\Home.js":"4","E:\\WishTree\\WishTree_Project\\Wishtree_Hotel_App\\Zonions\\zonions_frontend\\src\\Components\\AddRestaurant.js":"5","E:\\WishTree\\WishTree_Project\\Wishtree_Hotel_App\\Zonions\\zonions_frontend\\src\\Components\\RestaurantDetails.js":"6","E:\\WishTree\\WishTree_Project\\Wishtree_Hotel_App\\Zonions\\zonions_frontend\\src\\Components\\AdminLogin.js":"7","E:\\WishTree\\WishTree_Project\\Wishtree_Hotel_App\\Zonions\\zonions_frontend\\src\\Components\\ManageRestaurant.js":"8","E:\\WishTree\\WishTree_Project\\Wishtree_Hotel_App\\Zonions\\zonions_frontend\\src\\Components\\withRestaurantsData.js":"9"},{"size":575,"mtime":1608005610592,"results":"10","hashOfConfig":"11"},{"size":1019,"mtime":1608011152605,"results":"12","hashOfConfig":"11"},{"size":362,"mtime":499162500000,"results":"13","hashOfConfig":"11"},{"size":1842,"mtime":1608016094134,"results":"14","hashOfConfig":"11"},{"size":7626,"mtime":1608005298763,"results":"15","hashOfConfig":"11"},{"size":3028,"mtime":1608015834991,"results":"16","hashOfConfig":"11"},{"size":3503,"mtime":1607951629279,"results":"17","hashOfConfig":"11"},{"size":4303,"mtime":1608001787014,"results":"18","hashOfConfig":"11"},{"size":1101,"mtime":1607967749091,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"4cs49m",{"filePath":"22","messages":"23","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"29","messages":"30","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":1,"source":"31","usedDeprecatedRules":"26"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38","usedDeprecatedRules":"26"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"E:\\WishTree\\WishTree_Project\\Wishtree_Hotel_App\\Zonions\\zonions_frontend\\src\\index.js",[],"E:\\WishTree\\WishTree_Project\\Wishtree_Hotel_App\\Zonions\\zonions_frontend\\src\\App.js",["41"],"E:\\WishTree\\WishTree_Project\\Wishtree_Hotel_App\\Zonions\\zonions_frontend\\src\\reportWebVitals.js",[],["42","43"],"E:\\WishTree\\WishTree_Project\\Wishtree_Hotel_App\\Zonions\\zonions_frontend\\src\\Components\\Home.js",["44","45","46","47","48","49","50","51"],"E:\\WishTree\\WishTree_Project\\Wishtree_Hotel_App\\Zonions\\zonions_frontend\\src\\Components\\AddRestaurant.js",["52","53"],"import React, { Component } from 'react';\r\nimport { Spinner } from 'react-bootstrap';\r\n\r\nimport axios from 'axios';\r\n\r\nclass AddRestaurant extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            menuImg: '',\r\n            restaurantName: '',\r\n            address: '',\r\n            phone:'',\r\n            openingTime:'',\r\n            closingTime: '',\r\n            imageUrl: '',\r\n            imageAlt: '',\r\n\r\n            menuImgError: '',\r\n            restaurantNameError: '',\r\n            addressError: '',\r\n            phoneError:'',\r\n            imageUrlError: '',\r\n        }\r\n    }\r\n    validateForm = () =>{\r\n        const {restaurantName, address, phone, imageUrl, imageAlt} = this.state;\r\n        var isValid = true;\r\n\r\n        if(restaurantName === ''){\r\n            this.setState({\r\n                restaurantNameError: 'Restaurant name is required'\r\n            })\r\n            isValid = false\r\n        }\r\n        else if(!restaurantName.match(/[A-Za-z0-9_.-]+/))\r\n        {\r\n            this.setState({\r\n                restaurantNameError: 'Enter only letters and numbers'\r\n            })\r\n            isValid = false\r\n        }\r\n        else{\r\n            this.setState({\r\n                restaurantNameError: ''\r\n            })\r\n            isValid = true\r\n        }\r\n        if(address===''){\r\n            this.setState({\r\n                addressError: 'Address is required'\r\n            })\r\n            isValid = false\r\n        }\r\n        else if(address!==''){\r\n            this.setState({\r\n                addressError: ''\r\n            })\r\n            isValid = true\r\n        }\r\n        if(phone===''){\r\n            this.setState({\r\n                phoneError: 'Phone number is required'\r\n            })\r\n            isValid = false\r\n        }\r\n        else if(!phone.match(/(7|8|9)\\d{9}/)){\r\n            this.setState({\r\n                phoneError: 'Phone must have 10 digits and start with 7 or 8 or 9'\r\n            })\r\n            isValid = false\r\n        }\r\n        else{\r\n            this.setState({\r\n                phoneError: ''\r\n            })\r\n            isValid = true \r\n        }\r\n        if(imageUrl === '')\r\n        {\r\n            this.setState({\r\n                imageUrlError: 'Image is required'\r\n            })\r\n            isValid = false\r\n        }\r\n        else if(imageAlt.match(/(\\.jpg|\\.jpeg|\\.png)$/i))\r\n        {\r\n            this.setState({\r\n                imageUrlError: 'Only PNG, JPG & JPEG files allowed'\r\n            })\r\n            isValid = false\r\n        }\r\n        else{\r\n            this.setState({\r\n                imageUrlError: ''\r\n            })\r\n            isValid = true \r\n        }\r\n        return isValid;\r\n    }\r\n\r\n    uploadImageToCloud = async (e) => {\r\n        console.log(\"after image upload\", this.state.menuImg);\r\n\r\n        const formData = new FormData();\r\n        formData.append('file', this.state.menuImg);\r\n        formData.append('upload_preset', 'drcnyhn7j');\r\n\r\n        let imageData = await axios.post('https://api.Cloudinary.com/v1_1/drcnyhn7j/image/upload', formData)\r\n\r\n        console.log('imageData log: ', imageData);\r\n\r\n        this.setState({\r\n            imageUrl: imageData.data.secure_url,\r\n            imageAlt: `An image of ${imageData.data.original_filename}`\r\n        })\r\n        console.log(\"url :\" + this.state.imageUrl);\r\n        console.log(\"alt :\" + this.state.imageAlt);\r\n    }\r\n\r\n    handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        const isValidForm = this.validateForm();\r\n\r\n        if(isValidForm){\r\n            let restaurant = {\r\n                restaurantName: this.state.restaurantName,\r\n                address: this.state.address,\r\n                phone: this.state.phone,\r\n                openingTime: this.state.openingTime,\r\n                closingTime: this.state.closingTime,\r\n                imgUrl: this.state.imageUrl,\r\n                imgAlt: this.state.imageAlt\r\n            }\r\n            let restaurantData = await axios.post('http://localhost:1337/restaurant/create', restaurant);\r\n            console.log(\"restaurant response: \", restaurantData);\r\n        }\r\n\r\n        this.setState({\r\n            menuImg: '',\r\n            restaurantName: '',\r\n            address: '',\r\n            phone: '',\r\n            openingTime: '',\r\n            closingTime: '',\r\n            imgUrl: '',\r\n            imgAlt: ''\r\n        })\r\n\r\n        this.props.history.push('/restaurant/manage');\r\n    }\r\n    changeHandler = (e) =>{\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        }) \r\n    }\r\n\r\n    onFileChange = (e) => {\r\n        this.setState({\r\n            menuImg: e.target.files[0]\r\n        })\r\n\r\n        console.log(this.state)\r\n    }\r\n    \r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <form className='form' onSubmit={this.handleSubmit}>\r\n                        <div className=\"form-group\">\r\n                            <label>Restaurant Name</label>\r\n                            <input type=\"text\" className='form-control' name='restaurantName' value={this.state. restaurantName} onChange={this.changeHandler} />\r\n                            <pre style={{color:'red'}}>{this.state.restaurantNameError}</pre>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label> Address </label>\r\n                            <textarea className='form-control' name='address' value={this.state.address} onChange={this.changeHandler}></textarea>\r\n                            <pre style={{color:'red'}}>{this.state.addressError}</pre>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label> Phone </label>\r\n                            <input type=\"text\" className='form-control' name='phone' value={this.state.phone} onChange={this.changeHandler} />\r\n                            <pre style={{color:'red'}}>{this.state.phoneError}</pre>\r\n                        </div>\r\n                        <div className=\"md-form md-outline\">\r\n                            <label htmlFor=\"default-picker\">Opening Time</label>\r\n                            <input type=\"time\" id=\"default-picker\" className=\"form-control\" name='openingTime' value={this.state.openingTime} placeholder=\"Select time\" onChange={this.changeHandler} />\r\n                        </div>\r\n                        <div className=\"md-form md-outline\">\r\n                            <label htmlFor=\"default-picker\">Closing Time</label>\r\n                            <input type=\"time\" id=\"default-picker\" className=\"form-control\" name='closingTime' value={this.state.closingTime} placeholder=\"Select time\" onChange={this.changeHandler}/>\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <input className='form-control-file' type=\"file\" onChange={this.onFileChange} />\r\n                            <button className=\"btn btn-primary\" type='button' style={{display:'inline'}}onClick={this.uploadImageToCloud}>Upload\r\n                            </button>\r\n                            <pre style={{color:'red'}}>{this.state.imageUrlError}</pre>\r\n\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <button className=\"btn btn-primary\" type='submit'>Submit</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AddRestaurant\r\n","E:\\WishTree\\WishTree_Project\\Wishtree_Hotel_App\\Zonions\\zonions_frontend\\src\\Components\\RestaurantDetails.js",["54","55"],"E:\\WishTree\\WishTree_Project\\Wishtree_Hotel_App\\Zonions\\zonions_frontend\\src\\Components\\AdminLogin.js",[],"E:\\WishTree\\WishTree_Project\\Wishtree_Hotel_App\\Zonions\\zonions_frontend\\src\\Components\\ManageRestaurant.js",["56"],"import React, { Component } from 'react';\r\nimport Cookies from 'js-cookie';\r\nimport axios from 'axios';\r\nimport withRestaurantsData from './withRestaurantsData';\r\n\r\nclass ManageRestaurant extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n    }\r\n    addNew = () => {\r\n        this.props.history.push({ pathname: '/restaurant/add' })\r\n    }\r\n    // componentDidUpdate() {\r\n    //     console.log('from component did update of manage', this.props.restaurant)\r\n    // }\r\n\r\n    deleteData(id) {\r\n        alert('are you sure?');\r\n\r\n        axios.delete(`http://localhost:1337/restaurant/delete/${id}`)\r\n            .then((res) => {\r\n                alert('Restaurant deleted successfully')\r\n            })\r\n            .catch((err) => console.log('error while deleting restaurant', err));\r\n    }\r\n    updateData(id) {\r\n        this.props.history.push('/restaurant/add')\r\n        axios.put(`http://localhost:1337/restaurant/update/${id}`)\r\n            .then((res) => {\r\n                alert('Restaurant updated successfully')\r\n                console.log('updated res', res)\r\n            })\r\n            .catch((err) => console.log('error while deleting restaurant', err));\r\n    }\r\n    deactivate(id) {\r\n        axios.get(`http://localhost:1337/restaurant/find/${id}`)\r\n            .then(res => {\r\n                console.log('before updating status ', res.data.isActive);\r\n\r\n                let activeStatus= !(res.data.isActive);\r\n               \r\n                axios.put(`http://localhost:1337/restaurant/update/${id}`, {isActive: activeStatus})\r\n                    .then((response) => {\r\n                        console.log('after updated active status', response.data.data)\r\n                    })\r\n                    .catch((error) => console.log('error while deactivatin resto', error));\r\n\r\n            })\r\n            .catch(err => {\r\n                console.log('error while fetching resto by id: ', err)\r\n            })\r\n    }\r\n    signOut = () => {\r\n        Cookies.remove('token');\r\n        alert('Signed out successfully')\r\n        this.props.history.push('/');\r\n    }\r\n    render() {\r\n        const { restaurants } = this.props;\r\n\r\n        return (\r\n            <div className='container'>\r\n                <table className='table table-hover table-dark' style={{ textAlign: 'center' }}>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Restaurant Name</th>\r\n                            <th>Opening Time</th>\r\n                            <th>Closing Time</th>\r\n                            <th>Last Updated</th>\r\n                            <th>Actions</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            restaurants.map(restaurant => {\r\n                                return (\r\n                                    <tr key={restaurant.id}>\r\n                                        <td>{restaurant.restaurantName}</td>\r\n                                        <td>{restaurant.openingTime}</td>\r\n                                        <td>{restaurant.closingTime}</td>\r\n                                        <td>{restaurant.updatedAt}</td>\r\n                                        <td>\r\n                                            <button className='btn btn-success' onClick={() => this.updateData(restaurant.id)}>Edit</button>&nbsp;&nbsp;\r\n                                            <button className='btn btn-danger' onClick={() => this.deleteData(restaurant.id)}>Delete</button>&nbsp;&nbsp;\r\n                                            <button className='btn btn-secondary' onClick={() => this.deactivate(restaurant.id)}>Deactivate</button>\r\n                                        </td>\r\n                                    </tr>\r\n                                )\r\n                            })\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n                <button className='btn btn-primary' onClick={this.addNew} style={{ marginLeft: '30%' }}>Add</button>\r\n\r\n                <button className='btn btn-primary' onClick={this.signOut} style={{ marginLeft: '10%' }}>Signout</button>\r\n            </div >\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRestaurantsData(ManageRestaurant)\r\n","E:\\WishTree\\WishTree_Project\\Wishtree_Hotel_App\\Zonions\\zonions_frontend\\src\\Components\\withRestaurantsData.js",[],{"ruleId":"57","severity":1,"message":"58","line":2,"column":43,"nodeType":"59","messageId":"60","endLine":2,"endColumn":50},{"ruleId":"61","replacedBy":"62"},{"ruleId":"63","replacedBy":"64"},{"ruleId":"57","severity":1,"message":"65","line":4,"column":10,"nodeType":"59","messageId":"60","endLine":4,"endColumn":16},{"ruleId":"57","severity":1,"message":"66","line":4,"column":18,"nodeType":"59","messageId":"60","endLine":4,"endColumn":22},{"ruleId":"57","severity":1,"message":"67","line":4,"column":24,"nodeType":"59","messageId":"60","endLine":4,"endColumn":32},{"ruleId":"57","severity":1,"message":"68","line":4,"column":34,"nodeType":"59","messageId":"60","endLine":4,"endColumn":43},{"ruleId":"57","severity":1,"message":"69","line":4,"column":45,"nodeType":"59","messageId":"60","endLine":4,"endColumn":54},{"ruleId":"57","severity":1,"message":"70","line":4,"column":56,"nodeType":"59","messageId":"60","endLine":4,"endColumn":63},{"ruleId":"71","severity":1,"message":"72","line":8,"column":5,"nodeType":"73","messageId":"74","endLine":10,"endColumn":6},{"ruleId":"75","severity":1,"message":"76","line":22,"column":21,"nodeType":"77","endLine":22,"endColumn":108},{"ruleId":"57","severity":1,"message":"70","line":2,"column":10,"nodeType":"59","messageId":"60","endLine":2,"endColumn":17},{"ruleId":"78","severity":1,"message":"79","line":176,"column":102,"nodeType":"80","messageId":"81","endLine":176,"endColumn":128,"fix":"82"},{"ruleId":"57","severity":1,"message":"83","line":3,"column":8,"nodeType":"59","messageId":"60","endLine":3,"endColumn":27},{"ruleId":"57","severity":1,"message":"84","line":43,"column":17,"nodeType":"59","messageId":"60","endLine":43,"endColumn":28},{"ruleId":"71","severity":1,"message":"72","line":8,"column":5,"nodeType":"73","messageId":"74","endLine":10,"endColumn":6},"no-unused-vars","'NavLink' is defined but never used.","Identifier","unusedVar","no-native-reassign",["85"],"no-negated-in-lhs",["86"],"'Button' is defined but never used.","'Card' is defined but never used.","'Carousel' is defined but never used.","'Container' is defined but never used.","'Jumbotron' is defined but never used.","'Spinner' is defined but never used.","no-useless-constructor","Useless constructor.","MethodDefinition","noUselessConstructor","jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","no-whitespace-before-property","Unexpected whitespace before property restaurantName.","MemberExpression","unexpectedWhitespace",{"range":"87","text":"88"},"'withRestaurantsData' is defined but never used.","'restaurants' is assigned a value but never used.","no-global-assign","no-unsafe-negation",[5167,5169],"."]